<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Carrusel</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.6.9/dist/sweetalert2.all.min.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11.6.9/dist/sweetalert2.min.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="../css/navAdmin.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">
    <style>
        :root {
            --color-primary: #000000;
            --color-secondary: #FFD700;
            --color-accent: #C0A062;
            --color-light: #F8F9FA;
            --color-dark: #212529;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--color-primary);
            color: var(--color-light);
            padding: 20px;
        }
        
        .container {
            max-width: 1000px;
            background: rgba(0, 0, 0, 0.8);
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 2px 15px rgba(255, 215, 0, 0.2);
            border: 1px solid var(--color-accent);
        }
        
        h1, h2, h3, h4, h5, h6 {
            color: var(--color-secondary);
        }
        
        .carousel-container {
            margin: 30px 0;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 20px rgba(255, 215, 0, 0.3);
            border: 1px solid var(--color-accent);
        }
        
        .carousel-item {
            height: 400px;
            background-color: var(--color-primary);
        }
        
        .carousel-item img {
            object-fit: cover;
            height: 100%;
            width: 100%;
        }
        
        .card-carousel {
            border: 1px solid var(--color-accent);
            border-radius: 10px;
            box-shadow: 0 3px 10px rgba(255, 215, 0, 0.2);
            transition: transform 0.3s;
            background-color: rgba(0, 0, 0, 0.7);
        }
        
        .card-carousel:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(255, 215, 0, 0.4);
        }
        
        .form-section {
            background: rgba(0, 0, 0, 0.7);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 25px;
            border: 1px solid var(--color-accent);
        }
        
        .form-control, .form-control:focus {
            background-color: var(--color-dark);
            color: var(--color-light);
            border: 1px solid var(--color-accent);
        }
        
        .form-label {
            color: var(--color-secondary);
        }
        
        .image-preview-container {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 15px;
            position: relative;
        }
        
        .image-preview {
            position: relative;
            width: 100px;
            height: 100px;
            border-radius: 5px;
            overflow: hidden;
            transition: all 0.3s;
            border: 1px solid var(--color-accent);
        }
        
        .image-preview img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .image-preview .delete-img {
            position: absolute;
            top: 5px;
            right: 5px;
            background: rgba(0, 0, 0, 0.7);
            color: var(--color-secondary);
            border: 1px solid var(--color-secondary);
            border-radius: 50%;
            width: 25px;
            height: 25px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .image-preview:hover .delete-img {
            opacity: 1;
        }
        
        .add-more-container {
            width: 100px;
            height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 2px dashed var(--color-accent);
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .add-more-container:hover {
            border-color: var(--color-secondary);
            background-color: rgba(255, 215, 0, 0.1);
        }
        
        .add-more-icon {
            font-size: 24px;
            color: var(--color-accent);
        }
        
        .add-more-container:hover .add-more-icon {
            color: var(--color-secondary);
        }
        
        .btn-primary {
            background-color: var(--color-secondary);
            border-color: var(--color-secondary);
            color: var(--color-primary);
            font-weight: bold;
        }
        
        .btn-primary:hover {
            background-color: #E6C200;
            border-color: #E6C200;
        }
        
        .btn-secondary {
            background-color: var(--color-dark);
            border-color: var(--color-accent);
            color: var(--color-secondary);
        }
        
        .btn-secondary:hover {
            background-color: #2C3034;
            border-color: var(--color-secondary);
        }
        
        .btn-success {
            background-color: var(--color-accent);
            border-color: var(--color-accent);
            color: var(--color-primary);
            font-weight: bold;
        }
        
        .btn-success:hover {
            background-color: #B08D3E;
            border-color: #B08D3E;
        }
        
        .btn-danger {
            background-color: #8B0000;
            border-color: #8B0000;
        }
        
        .btn-danger:hover {
            background-color: #A52A2A;
            border-color: #A52A2A;
        }
        
        .carousel-control-prev-icon,
        .carousel-control-next-icon {
            background-color: var(--color-secondary);
            border-radius: 50%;
            padding: 15px;
        }
        
        .text-muted {
            color: var(--color-accent) !important;
        }
        
        @media (max-width: 768px) {
            .carousel-item { height: 300px; }
        }
        
        @media (max-width: 576px) {
            .carousel-item { height: 250px; }
        }
    </style>
</head>
<header class="header">
    <header class="nan_header">
      <nav class="nan_navbar">
          <div class="nan_logo">
              <img src="../css/img/LOGO BLANCO.png" alt="Logo">
          </div>
          <button class="nan_hamburger" aria-label="Abrir menú">&#9776;</button>
          <button class="nan_close" aria-label="Cerrar menú" style="display: none;">&times;</button>
          <ul class="nan_menu">
            <li><i class="fas fa-home"></i><a href="dashAdmin.html"> Inicio</a></li>&emsp; &emsp;&emsp; &emsp;&emsp; &emsp;&emsp; &emsp;
          </ul> 
      </nav>
    </header>
  </header>
<body>
    <br><br><br><br><br><br>
    <div class="container">
        <h1 class="text-center mb-4"><i class="bi bi-images"></i> Administrador de Carrusel</h1>
        
        <button id="toggleBtn" class="btn btn-primary mb-4">
            <i class="bi bi-plus-circle"></i> Nuevo Carrusel
        </button>

        <div id="formContainer" class="form-section" style="display:none;">
            <h3><i class="bi bi-pencil-square"></i> Editar Carrusel</h3>
            <form id="carouselForm">
                <input type="hidden" id="editId">
                
                <div class="mb-3">
                    <label class="form-label">Nombre (Se usará como ID)</label>
                    <input type="text" id="carouselName" class="form-control" required>
                </div>
                
                <div class="mb-3">
                    <label class="form-label">Imágenes (Máx. 5)</label>
                    <input type="file" id="imageUpload" class="form-control" multiple accept="image/*" style="display: none;">
                    <div id="imagePreviewContainer" class="image-preview-container">
                        <div class="add-more-container" id="addMoreBtn">
                            <i class="bi bi-plus-circle add-more-icon"></i>
                        </div>
                    </div>
                </div>
                
                <div class="d-flex justify-content-end gap-2">
                    <button type="button" id="cancelBtn" class="btn btn-secondary">
                        <i class="bi bi-x"></i> Cancelar
                    </button>
                    <button type="submit" id="saveBtn" class="btn btn-success">
                        <i class="bi bi-save"></i> Guardar
                    </button>
                </div>
            </form>
        </div>

        <div class="carousel-container">
            <h3><i class="bi bi-eye"></i> Vista Previa</h3>
            <div id="previewCarousel" class="carousel slide">
                <div class="carousel-inner" id="carouselItems">
                    <div class="carousel-item active">
                        <img src="https://via.placeholder.com/800x400?text=Agrega+imágenes" class="d-block w-100">
                    </div>
                </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#previewCarousel" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon"></span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#previewCarousel" data-bs-slide="next">
                    <span class="carousel-control-next-icon"></span>
                </button>
            </div>
        </div>

        <h3 class="mt-5"><i class="bi bi-collection"></i> Carruseles Guardados</h3>
        <div id="carouselsList" class="row mt-3"></div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-firestore-compat.js"></script>
<script>
    // Configuración Firebase
    const firebaseConfig = {
        apiKey: "AIzaSyBJy992gkvsT77-_fMp_O_z99wtjZiK77Y",
        authDomain: "rsienterprise.firebaseapp.com",
        projectId: "rsienterprise",
        storageBucket: "rsienterprise.appspot.com",
        messagingSenderId: "1063117165770",
        appId: "1:1063117165770:web:8555f26b25ae80bc42d033"
    };

    // Inicializar Firebase
    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();
    const carouselsRef = db.collection("carousels");

    // Variables
    let currentImages = [];
    let editingId = null;
    let carouselInterval;

    // Elementos
    const formContainer = document.getElementById('formContainer');
    const carouselForm = document.getElementById('carouselForm');
    const imageUpload = document.getElementById('imageUpload');
    const imagePreviewContainer = document.getElementById('imagePreviewContainer');
    const addMoreBtn = document.getElementById('addMoreBtn');
    const carouselItems = document.getElementById('carouselItems');
    const carouselsList = document.getElementById('carouselsList');

    // Eventos
    document.getElementById('toggleBtn').addEventListener('click', () => {
        formContainer.style.display = formContainer.style.display === 'none' ? 'block' : 'none';
        resetForm();
    });

    document.getElementById('cancelBtn').addEventListener('click', resetForm);

    addMoreBtn.addEventListener('click', () => imageUpload.click());
    imageUpload.addEventListener('change', handleImageUpload);

    carouselForm.addEventListener('submit', saveCarousel);

    // Cargar carruseles al iniciar
    document.addEventListener('DOMContentLoaded', loadCarousels);

    // Funciones
    function resetForm() {
        carouselForm.reset();
        editingId = null;
        currentImages = [];
        updatePreview();
        updateImagePreviews();
    }

    async function handleImageUpload(e) {
        const files = e.target.files;
        
        if (!files || files.length === 0) {
            return;
        }

        const totalImages = currentImages.length + files.length;
        if (totalImages > 5) {
            Swal.fire({
                icon: 'error',
                title: 'Error',
                text: 'Máximo 5 imágenes permitidas'
            });
            e.target.value = '';
            return;
        }

        let loadedCount = 0;
        
        Array.from(files).forEach(file => {
            if (!file.type.match('image.*')) {
                Swal.fire({
                    icon: 'error',
                    title: 'Error',
                    text: 'Solo se permiten imágenes'
                });
                e.target.value = '';
                return;
            }

            const reader = new FileReader();
            reader.onload = async (e) => {
                try {
                    let result = e.target.result;
                    
                    // Comprimir siempre las imágenes, con mayor compresión si son grandes
                    const compressionQuality = file.size > 500000 ? 0.5 : 0.7; // 50% calidad para >500KB, 70% para menores
                    result = await compressImage(result, file.type, compressionQuality);
                    
                    // Mostrar notificación si la imagen era grande
                    if (file.size > 500000) {
                        Swal.fire({
                            icon: 'info',
                            title: 'Imagen comprimida',
                            text: `La imagen se redujo de ${formatFileSize(file.size)} a ${formatFileSize(result.length)}`,
                            timer: 2000
                        });
                    }
                    
                    currentImages.push({
                        file: file,
                        preview: result,
                        base64: result.split(',')[1],
                        type: file.type
                    });
                    
                    loadedCount++;
                    
                    if (loadedCount === files.length) {
                        updatePreview();
                        updateImagePreviews();
                        imageUpload.value = '';
                    }
                } catch (error) {
                    console.error("Error comprimiendo imagen:", error);
                    Swal.fire({
                        icon: 'error',
                        title: 'Error',
                        text: 'Hubo un problema al procesar la imagen'
                    });
                }
            };
            reader.readAsDataURL(file);
        });
    }

    // Función para comprimir imágenes con mayor compresión
    async function compressImage(dataUrl, imageType, quality = 0.5, maxWidth = 1200, maxHeight = 800) {
        return new Promise((resolve, reject) => {
            const img = new Image();
            img.onload = () => {
                // Calcular nuevas dimensiones manteniendo el aspect ratio
                let width = img.width;
                let height = img.height;
                
                if (width > maxWidth) {
                    height = Math.round((height * maxWidth) / width);
                    width = maxWidth;
                }
                
                if (height > maxHeight) {
                    width = Math.round((width * maxHeight) / height);
                    height = maxHeight;
                }
                
                // Reducir aún más si la imagen es muy grande
                if (dataUrl.length > 500000) {
                    width = Math.round(width * 0.8);
                    height = Math.round(height * 0.8);
                }
                
                // Crear canvas para redimensionar y comprimir
                const canvas = document.createElement('canvas');
                canvas.width = width;
                canvas.height = height;
                
                const ctx = canvas.getContext('2d');
                
                // Configuración de calidad de imagen
                ctx.imageSmoothingQuality = 'high';
                ctx.drawImage(img, 0, 0, width, height);
                
                // Convertir siempre a JPEG para mejor compresión (excepto PNG transparentes)
                let outputFormat = 'image/jpeg';
                if (imageType === 'image/png') {
                    const hasTransparency = checkTransparency(img);
                    outputFormat = hasTransparency ? 'image/png' : 'image/jpeg';
                }
                
                // Reducir calidad adicional si es necesario
                let finalQuality = quality;
                if (dataUrl.length > 1000000) {
                    finalQuality = 0.4;
                } else if (dataUrl.length > 500000) {
                    finalQuality = 0.5;
                }
                
                canvas.toBlob(
                    (blob) => {
                        const reader = new FileReader();
                        reader.onload = () => {
                            // Verificar si el resultado sigue siendo demasiado grande
                            if (reader.result.length > 700000) {
                                // Recursivamente comprimir más si es necesario
                                compressImage(reader.result, outputFormat, finalQuality * 0.9, width * 0.9, height * 0.9)
                                    .then(resolve)
                                    .catch(reject);
                            } else {
                                resolve(reader.result);
                            }
                        };
                        reader.onerror = reject;
                        reader.readAsDataURL(blob);
                    },
                    outputFormat,
                    finalQuality
                );
            };
            img.onerror = reject;
            img.src = dataUrl;
        });
    }

    // Función para detectar transparencia en imágenes PNG
    function checkTransparency(img) {
        const canvas = document.createElement('canvas');
        canvas.width = 1;
        canvas.height = 1;
        const ctx = canvas.getContext('2d');
        ctx.drawImage(img, -img.width + 1, -img.height + 1);
        const pixelData = ctx.getImageData(0, 0, 1, 1).data;
        return pixelData[3] < 255; // Si el canal alpha no es 255, hay transparencia
    }

    // Función para formatear el tamaño del archivo
    function formatFileSize(bytes) {
        if (bytes === 0) return '0 Bytes';
        const k = 1024;
        const sizes = ['Bytes', 'KB', 'MB', 'GB'];
        const i = Math.floor(Math.log(bytes) / Math.log(k));
        return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
    }

    function updateImagePreviews() {
        imagePreviewContainer.innerHTML = '';
        
        currentImages.forEach((img, index) => {
            const preview = document.createElement('div');
            preview.className = 'image-preview';
            preview.innerHTML = `
                <img src="${img.preview}">
                <button class="delete-img" data-index="${index}">
                    <i class="bi bi-x"></i>
                </button>
            `;
            imagePreviewContainer.appendChild(preview);
        });

        if (currentImages.length < 5) {
            imagePreviewContainer.appendChild(addMoreBtn);
        }

        document.querySelectorAll('.delete-img').forEach(btn => {
            btn.addEventListener('click', (e) => {
                e.stopPropagation();
                const index = parseInt(btn.getAttribute('data-index'));
                deleteImage(index);
            });
        });
    }

    function deleteImage(index) {
        currentImages.splice(index, 1);
        updatePreview();
        updateImagePreviews();
    }

    function updatePreview() {
        clearInterval(carouselInterval);
        carouselItems.innerHTML = '';
        
        if (currentImages.length === 0) {
            carouselItems.innerHTML = `
                <div class="carousel-item active">
                    <img src="https://via.placeholder.com/800x400?text=Agrega+imágenes" class="d-block w-100">
                </div>
            `;
            return;
        }
        
        currentImages.forEach((img, index) => {
            const item = document.createElement('div');
            item.className = `carousel-item ${index === 0 ? 'active' : ''}`;
            item.innerHTML = `<img src="${img.preview}" class="d-block w-100">`;
            carouselItems.appendChild(item);
        });
        
        const carousel = new bootstrap.Carousel(document.getElementById('previewCarousel'), {
            interval: 5000
        });
        
        startCarouselAutoRotation();
    }

    function startCarouselAutoRotation() {
        clearInterval(carouselInterval);
        if (currentImages.length > 1) {
            carouselInterval = setInterval(() => {
                const carousel = bootstrap.Carousel.getInstance(document.getElementById('previewCarousel'));
                if (carousel) {
                    carousel.next();
                }
            }, 5000);
        }
    }

    async function saveCarousel(e) {
        e.preventDefault();
        
        const name = document.getElementById('carouselName').value.trim();
        const id = name.toLowerCase().replace(/\s+/g, '-').replace(/[^a-z0-9-]/g, '');
        
        if (!name) {
            Swal.fire({
                icon: 'error',
                title: 'Error',
                text: 'El nombre es requerido'
            });
            return;
        }
        
        if (!editingId && currentImages.length === 0) {
            Swal.fire({
                icon: 'error',
                title: 'Error',
                text: 'Agrega al menos una imagen'
            });
            return;
        }
        
        try {
            const btn = document.getElementById('saveBtn');
            btn.disabled = true;
            btn.innerHTML = '<span class="spinner-border spinner-border-sm"></span> Guardando...';
            
            // Preparar datos de imágenes para Firestore
            const imagesData = currentImages.map(img => ({
                base64: img.base64,
                type: img.type
            }));
            
            // Verificar tamaño total del documento
            const docSize = JSON.stringify({images: imagesData}).length;
            if (docSize > 900000) { // Dejar margen para otros campos
                // Reducir calidad aún más para las imágenes más grandes
                const compressedImages = [];
                for (const img of currentImages) {
                    const compressed = await compressImage(`data:${img.type};base64,${img.base64}`, img.type, 0.4, 800, 600);
                    compressedImages.push({
                        base64: compressed.split(',')[1],
                        type: img.type
                    });
                }
                
                // Verificar nuevamente el tamaño
                const newDocSize = JSON.stringify({images: compressedImages}).length;
                if (newDocSize > 900000) {
                    throw new Error('El carrusel es demasiado grande incluso después de comprimir. Reduce el número de imágenes o su resolución.');
                }
                
                imagesData = compressedImages;
            }
            
            const carouselData = {
                name: name,
                images: imagesData,
                updatedAt: firebase.firestore.FieldValue.serverTimestamp()
            };
            
            if (editingId) {
                await carouselsRef.doc(editingId).update(carouselData);
                Swal.fire({
                    icon: 'success',
                    title: 'Éxito',
                    text: 'Carrusel actualizado correctamente',
                    timer: 1500
                });
            } else {
                const doc = await carouselsRef.doc(id).get();
                if (doc.exists) {
                    Swal.fire({
                        icon: 'error',
                        title: 'Error',
                        text: 'Ya existe un carrusel con este nombre'
                    });
                    btn.disabled = false;
                    btn.innerHTML = '<i class="bi bi-save"></i> Guardar';
                    return;
                }
                
                carouselData.createdAt = firebase.firestore.FieldValue.serverTimestamp();
                await carouselsRef.doc(id).set(carouselData);
                Swal.fire({
                    icon: 'success',
                    title: 'Éxito',
                    text: 'Carrusel creado correctamente',
                    timer: 1500
                });
            }
            
            resetForm();
            loadCarousels();
            formContainer.style.display = 'none';
        } catch (error) {
            console.error("Error:", error);
            Swal.fire({
                icon: 'error',
                title: 'Error',
                text: 'Error al guardar el carrusel: ' + error.message
            });
        } finally {
            const btn = document.getElementById('saveBtn');
            btn.disabled = false;
            btn.innerHTML = '<i class="bi bi-save"></i> Guardar';
        }
    }

    async function loadCarousels() {
        try {
            const querySnapshot = await carouselsRef.orderBy('updatedAt', 'desc').get();
            carouselsList.innerHTML = '';
            
            if (querySnapshot.empty) {
                carouselsList.innerHTML = '<p class="text-muted">No hay carruseles</p>';
                return;
            }
            
            querySnapshot.forEach(doc => {
                const carousel = doc.data();
                const firstImage = carousel.images[0];
                const imageUrl = `data:${firstImage.type};base64,${firstImage.base64}`;
                
                const col = document.createElement('div');
                col.className = 'col-md-6 col-lg-4 mb-3';
                col.innerHTML = `
                    <div class="card card-carousel">
                        <img src="${imageUrl}" class="card-img-top" height="150">
                        <div class="card-body">
                            <h5>${carousel.name}</h5>
                            <p class="text-muted">${carousel.images.length} imágenes</p>
                        </div>
                        <div class="card-footer">
                            <button class="btn btn-sm btn-primary edit-btn" data-id="${doc.id}">
                                <i class="bi bi-pencil"></i> Editar
                            </button>
                            <button class="btn btn-sm btn-danger delete-btn" data-id="${doc.id}">
                                <i class="bi bi-trash"></i> Eliminar
                            </button>
                        </div>
                    </div>
                `;
                carouselsList.appendChild(col);
            });
            
            document.querySelectorAll('.edit-btn').forEach(btn => {
                btn.addEventListener('click', () => editCarousel(btn.getAttribute('data-id')));
            });
            
            document.querySelectorAll('.delete-btn').forEach(btn => {
                btn.addEventListener('click', () => deleteCarousel(btn.getAttribute('data-id')));
            });
        } catch (error) {
            console.error("Error:", error);
            Swal.fire({
                icon: 'error',
                title: 'Error',
                text: 'Error al cargar carruseles'
            });
        }
    }

    async function editCarousel(id) {
        try {
            const doc = await carouselsRef.doc(id).get();
            if (!doc.exists) return;
            
            const carousel = doc.data();
            editingId = id;
            
            document.getElementById('editId').value = id;
            document.getElementById('carouselName').value = carousel.name;
            
            currentImages = carousel.images.map(img => ({
                preview: `data:${img.type};base64,${img.base64}`,
                base64: img.base64,
                type: img.type,
                file: null
            }));
            
            updatePreview();
            updateImagePreviews();
            formContainer.style.display = 'block';
            formContainer.scrollIntoView({ behavior: 'smooth' });
        } catch (error) {
            console.error("Error:", error);
            Swal.fire({
                icon: 'error',
                title: 'Error',
                text: 'Error al cargar carrusel'
            });
        }
    }

    async function deleteCarousel(id) {
        Swal.fire({
            title: '¿Eliminar este carrusel?',
            text: "Esta acción no se puede deshacer",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#d33',
            cancelButtonColor: '#3085d6',
            confirmButtonText: 'Sí, eliminar',
            cancelButtonText: 'Cancelar'
        }).then(async (result) => {
            if (result.isConfirmed) {
                try {
                    await carouselsRef.doc(id).delete();
                    loadCarousels();
                    Swal.fire(
                        'Eliminado',
                        'El carrusel ha sido eliminado',
                        'success'
                    );
                } catch (error) {
                    console.error("Error:", error);
                    Swal.fire({
                        icon: 'error',
                        title: 'Error',
                        text: 'Error al eliminar el carrusel'
                    });
                }
            }
        });
    }
</script>
</body>
</html>